  {
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "labels": [
      "maintenance"
    ],
    "enabledManagers": [
      "kubernetes",
      "argocd"
    ],
    "kubernetes": {
      "fileMatch": [
        "^apps/.*\\.yaml$"
      ]
    },
    "argocd": {
      "fileMatch": [
        "argoapps/.+\\.yaml$"
      ]
    },
    "major": {
      "enabled": true
    },
    "recreateWhen": "always",
    "rebaseWhen": "conflicted",
    "prHourlyLimit": 0,
    "branchConcurrentLimit": 0,
    "packageRules": [
      {
        "matchUpdateTypes": [
          "patch",
          "digest"
        ],
        "matchCurrentVersion": "!/^0/",
        "requiredStatusChecks": null,
        "automerge": true
      },
      {
        "datasources": [
          "docker",
          "helm"
        ],
        "major": {
          "enabled": true
        }
      },
      {
        "paths": [
          "argoapps/k3s/system/k8up.yaml",
          "argoapps/k3s/system/reloader.yaml",
          "argoapps/k3s/system/kured.yaml",
          "argoapps/k3s/nextcloud.yaml"
        ],
        "automerge": true,
        "requiredStatusChecks": null
      },
      {
        "managers": ["argocd"],
        "matchDatasources": ["docker"],
        "matchPackageNames": ["nextcloud"],
        "matchPaths": ["argoapps/k3s/nextcloud.yaml"],
        "matchUpdateTypes": ["patch", "minor", "digest"],
        "automerge": true,
        "requiredStatusChecks": null
      }
    ]
}
